<!DOCTYPE html>
@using System.Security.Claims
@{

    //First get user claims
    var claims = User.Identity.IsAuthenticated ? User.Claims : null;

    //Filter specific claim
    var name = claims?.FirstOrDefault(x => x.Type.Equals(ClaimTypes.Name, StringComparison.OrdinalIgnoreCase))?.Value;
    var type = claims?.FirstOrDefault(x => x.Type.Equals("UserType", StringComparison.OrdinalIgnoreCase))?.Value;
    var image = claims?.FirstOrDefault(x => x.Type.Equals("Image", StringComparison.OrdinalIgnoreCase))?.Value;


}
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Meta -->
    <meta name="description" content="Responsive Bootstrap4 Dashboard Template">
    <meta name="author" content="ParkerThemes">
    <link rel="shortcut icon" href="~/images/logo/logo2.png" asp-append-version="true" />
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" asp-append-version="true" />
    <title>@ViewBag.Title</title>
    <!-- Bootstrap css -->
    <link rel="stylesheet" href="~/css/bootstrap.min.css" asp-append-version="true">

    <!-- Icomoon Font Icons css -->
    <link rel="stylesheet" href="~/fonts/style.css" asp-append-version="true">

    <!-- Main css -->
    <link rel="stylesheet" href="~/css/main.css" asp-append-version="true">
    <!--  Vendor Css Files  -->
    <!-- DateRange css -->
    <link rel="stylesheet" href="~/vendor/daterange/daterange.css"  asp-append-version="true"/>
    <link href="~/date-picker/css/bootstrap-datetimepicker.css" rel="stylesheet"  asp-append-version="true"/>
    <!-- Summernote CSS -->
    <link rel="stylesheet" href="~/vendor/summernote/summernote-bs4.css" asp-append-version="true"/>

    <style>
        .input-validation-error {
            border: 1px dashed red !important;
        }
    </style>
</head>
<body>
    <!-- Header start -->
    <header class="header">
        <div class="logo-wrapper">
            <a href="@Url.Action("Index","Home")" class="logo">
                <img src="~/images/logo/logo2.png" alt="Wafi Admin Dashboard" asp-append-version="true" />
            </a>

        </div>
        <div class="header-items">

            <!-- Header actions start -->
            <ul class="header-actions">


                <li class="dropdown">
                    <a href="#" id="userSettings" class="user-settings" data-toggle="dropdown" aria-haspopup="true">
                        <span class="user-name">@name</span>
                        <span class="avatar"><i class="icon-user"></i><span class="status busy"></span></span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userSettings">
                        <div class="header-profile-actions">
                            <div class="header-user-profile">
                                <div class="header-user">
                                    <img id="adminImg" src="@(string.IsNullOrEmpty(image)?"/images/user4.png":"/Attachments/Images/" + image)" alt="Admin Template" />
                                </div>
                                <h5 class="name-client">@name</h5>
                                <p>@type</p>
                            </div>
                            <a href="@Url.Action("profile","Account")"><i class="icon-user1"></i> بياناتي</a>
                      
                            <a asp-action="Logout" asp-controller="Account"><i class="icon-log-out1"></i> تسجيل الخروج</a>
                        </div>
                    </div>
                </li>

            </ul>
            <!-- Header actions end -->
        </div>
    </header>
    <!-- Header end -->
    <!-- Screen overlay start -->
    <div class="screen-overlay"></div>
    <!-- Screen overlay end -->




    <div class="container-fluid">


        <!-- Navigation start -->
        <partial name="~/Views/Shared/_Navbar.cshtml" />
        @*@await Html.PartialAsync("~/Views/Shared/_Navbar.cshtml")*@
        <!-- Navigation end -->
        <div class="main-container">
            @RenderBody()
        </div>

        <!-- Footer start -->
        <footer class="main-footer">© Repoteq 2021</footer>
        <!-- Footer end -->


    </div>
    <!-- Required jQuery first, then Bootstrap Bundle JS -->
    <script src="~/js/jquery.min.js" asp-append-version="true"></script>
    <script src="~/js/bootstrap.bundle.min.js" asp-append-version="true"></script>
    <script src="~/js/moment.js" asp-append-version="true"></script>

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js" asp-append-version="true"></script>
    <!-- *************
        ************ Vendor Js Files *************
    ************* -->
    <!-- Slimscroll JS -->
    <script src="~/vendor/slimscroll/slimscroll.min.js" asp-append-version="true"></script>
    <script src="~/vendor/slimscroll/custom-scrollbar.js" asp-append-version="true"></script>

    <!-- Daterange -->
    <script src="~/vendor/daterange/daterange.js" asp-append-version="true"></script>
    <script src="~/vendor/daterange/custom-daterange.js" asp-append-version="true"></script>

    <!-- Main Js Required -->
    <script src="~/js/main.js" asp-append-version="true"></script>
    <script src="~/date-picker/js/bootstrap-hijri-datetimepicker.js" asp-append-version="true"></script>
    <!-- Summernote JS -->
    <script src="~/vendor/summernote/summernote-bs4.js" asp-append-version="true"></script>
    <partial name="_Validation" />
    <script src="~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.min.js" asp-append-version="true"></script>
    <script src="~/js/Views/Layout.js" asp-append-version="true"></script>
    @RenderSection("Scripts", required: false)
    @*<script>
        var message = {
            amsgError:"hhh",
        }
    </script>*@

</body>
</html>
